<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:docking="http://schemas.actiprosoftware.com/winfx/xaml/docking"
        xmlns:datagrid="http://schemas.actiprosoftware.com/winfx/xaml/datagrid"
        x:Class="EQLogParser.MainWindow"
        Style="{StaticResource StandardStyle}"
        Title="" Height="700" Width="1300" Closed="Window_Closed">
  <Window.Resources>
  </Window.Resources>
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="20" />
      <RowDefinition Height="500*" />
    </Grid.RowDefinitions>
    <Menu Margin="0" Height="20" VerticalAlignment="Top" Grid.Row="0">
      <MenuItem Header="_File" Height="20" Width="35">
        <MenuItem Header="Select EQ _Log File" Height="20" Click="MenuItemSelectLogFile_Click"/>
        <Separator Height="0"/>
        <MenuItem Header="E_xit" Height="20" Click="Window_Closed" InputGestureText="Alt+F4"/>
      </MenuItem>
      <MenuItem Header="_View" Height="20" Width="40">
        <MenuItem x:Name="fileProgressWindowMenuItem" Click="MenuItemWindow_Click" Header="_Log File Progress" Height="20" />
        <Separator />
        <MenuItem x:Name="npcWindowMenuitem" Header="_NPCs" Click="MenuItemWindow_Click" Height="20" />
        <MenuItem x:Name="playerDPSTextWindowMenuItem" Header="_Share Player DPS" Click="MenuItemWindow_Click" Height="20" />
        <Separator />
        <MenuItem x:Name="petMappingWindowMenuItem" Header="Pet _Owners" Click="MenuItemWindow_Click" Height="20" />
        <MenuItem x:Name="verifiedPetsWindowMenuItem" Click="MenuItemWindow_Click" Header="_Verified Pets" Height="20" />
        <MenuItem x:Name="verifiedPlayersWindowMenuItem" Click="MenuItemWindow_Click" Header="Verified _Players" Height="20" />
        <Separator />
        <MenuItem x:Name="debugWindowMenuItem" IsEnabled="False" Header="_Debug" Click="MenuItemWindow_Click" Height="20" />
      </MenuItem>
    </Menu>
    <docking:DockSite Grid.Row="1" x:Name="docSite">
      <docking:SplitContainer Orientation="Horizontal">
        <docking:SplitContainer Orientation="Vertical">
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="npcWindow" Title="NPCs" ContainerAutoHideSize="320, 400" ContainerDockedSize="320,400">
              <datagrid:ThemedDataGrid x:Name="npcDataGrid" AlternatingRowBackground="{x:Null}" RowHeaderWidth="40" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True" LoadingRow="NonPlayerDataGrid_LoadingRow" SelectionChanged="NpcDataGrid_SelectionChanged" CanUserSortColumns="False">
                <DataGrid.Columns>
                  <DataGridTextColumn Binding="{Binding BeginTimeString}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Initial Hit Time" IsReadOnly="True" CanUserReorder="False" MinWidth="96" Width="96" MaxWidth="96"/>
                  <DataGridTextColumn Binding="{Binding Name}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Name" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="90*" />
                </DataGrid.Columns>
              </datagrid:ThemedDataGrid>
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="progressWindow" IsOpen="False" Title="Log File Progress" ContainerDockedSize="320,65">
              <WrapPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal">
                  <Label Width="70" HorizontalContentAlignment="Right" Margin="6,0,0,0">Total Bytes:</Label>
                  <Label x:Name="fileSizeLabel" Width="75" HorizontalContentAlignment="Left" Margin="0,0,0,0">0</Label>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                  <Label Width="70" HorizontalContentAlignment="Right" Margin="6,0,0,0">Processed:</Label>
                  <Label x:Name="bytesProcessedLabel" Width="75" HorizontalContentAlignment="Left" Margin="0,0,0,0">0</Label>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                  <Label Width="70" HorizontalContentAlignment="Right" Margin="6,0,0,0">Complete:</Label>
                  <Label x:Name="completeLabel" Width="75" HorizontalContentAlignment="Left" Margin="0,0,0,0">0%</Label>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                  <Label Width="70" HorizontalContentAlignment="Right" Margin="6,0,0,0">Load Time:</Label>
                  <Label x:Name="processedTimeLabel" Width="75" HorizontalContentAlignment="Left" Margin="0,0,0,0">0 sec</Label>
                </StackPanel>
              </WrapPanel>
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
        </docking:SplitContainer>
        <docking:SplitContainer Orientation="Vertical">
          <docking:Workspace>
            <docking:TabbedMdiHost>
              <docking:TabbedMdiContainer>
                <docking:DocumentWindow x:Name="dpsWindow" Title="Damage Summary" Description="" ContainerDockedSize="400,800" CanClose="False">
                  <Grid>
                    <Grid.RowDefinitions>
                      <RowDefinition Height="30" />
                      <RowDefinition Height="300*" />
                    </Grid.RowDefinitions>
                    <StackPanel x:Name="dpsTitleContainer" Orientation="Vertical" Grid.Row="0" Margin="0" >
                      <Border BorderBrush="#FF3F3F46" BorderThickness="1,1,2,1" Height="30" Padding="0" Margin="0">
                        <Label x:Name="dpsTitle" Margin="0,0,0,0" Foreground="#FF4F9FE2" Height="30" Background="{x:Null}" FontSize="15" FontWeight="Bold"/>
                      </Border>
                    </StackPanel>
                    <datagrid:ThemedDataGrid x:Name="playerDataGrid" Grid.Row="1" RowHeaderWidth="0" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True" SelectionChanged="PlayerDataGrid_SelectionChanged" Panel.ZIndex="-4" >
                      <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding Rank}" ClipboardContentBinding="{x:Null}" IsReadOnly="True" CellStyle="{StaticResource RightAlignGridCellStyle}" CanUserReorder="False" MinWidth="30" Width="30" />
                        <DataGridTextColumn Binding="{Binding Name}" ClipboardContentBinding="{x:Null}" Header="Name" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="90" />
                        <DataGridTextColumn Binding="{Binding Damage}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" CellStyle="{StaticResource RightAlignGridCellStyle}" ClipboardContentBinding="{x:Null}" Header="Damage" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="90"/>
                        <DataGridTextColumn Binding="{Binding DPS}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" CellStyle="{StaticResource RightAlignGridCellStyle}" ClipboardContentBinding="{x:Null}" Header="DPS" IsReadOnly="True" MinWidth="20" Width="70" CanUserReorder="False"/>
                        <DataGridTextColumn Binding="{Binding TimeDiff}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" CellStyle="{StaticResource RightAlignGridCellStyle}" ClipboardContentBinding="{x:Null}" Header="Sec" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="55"/>
                        <DataGridTextColumn Binding="{Binding Hits}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" CellStyle="{StaticResource RightAlignGridCellStyle}" ClipboardContentBinding="{x:Null}" Header="# Hits" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="60"/>
                        <DataGridTextColumn Binding="{Binding Max}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" CellStyle="{StaticResource RightAlignGridCellStyle}" ClipboardContentBinding="{x:Null}" Header="Max Hit" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="70"/>
                        <DataGridTextColumn Binding="{Binding Avg}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" CellStyle="{StaticResource RightAlignGridCellStyle}" ClipboardContentBinding="{x:Null}" Header="Avg Hit" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="70"/>
                        <DataGridTextColumn Binding="{Binding Details}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Additional Details" IsReadOnly="True" CanUserReorder="False" MinWidth="20" Width="120*" />
                      </DataGrid.Columns>
                    </datagrid:ThemedDataGrid>
                  </Grid>
                </docking:DocumentWindow>
                <docking:DocumentWindow x:Name="debugWindow" Title="Debug" IsOpen="False" IsEnabled="True" Description="" ContainerDockedSize="400,800">
                  <datagrid:ThemedDataGrid x:Name="debugDataGrid">
                    <DataGrid.Columns>
                      <DataGridTextColumn Binding="{Binding}" Header="Damage Lines Not Counted"/>
                    </DataGrid.Columns>
                  </datagrid:ThemedDataGrid>
                </docking:DocumentWindow>
              </docking:TabbedMdiContainer>
            </docking:TabbedMdiHost>
          </docking:Workspace>
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="playerDPSTextWindow" IsOpen="True" Title="Share Player DPS" ContainerDockedSize="400,145">
                <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="100" />
                  <ColumnDefinition Width="400*" />
                </Grid.ColumnDefinitions>
                <Grid>
                  <Grid.RowDefinitions>
                    <RowDefinition Height="47*" />
                    <RowDefinition Height="50" />
                  </Grid.RowDefinitions>
                  <TextBlock x:Name="sharePlayerDPSLabel" Grid.Row="0" TextWrapping="Wrap" FontSize="14" Margin="10,2,0,0" Foreground="White" >No Players Selected</TextBlock>
                  <StackPanel Grid.Row="1" Orientation="Vertical">
                    <TextBlock x:Name="sharePlayerDPSWarningLabel" TextWrapping="Wrap" FontSize="10" Margin="12,0,0,4" Foreground="LightGreen" FontStyle="Italic" Height="12" Visibility="Hidden">0 / 509</TextBlock>
                    <Button x:Name="copyToEQButton" Width="80" Height="24" Margin="10,4,10,0" Content="Copy to EQ" IsEnabled="False" Foreground="#FF5A5A5A" BorderBrush="{x:Null}" Click="CopyToEQ_Click"/>
                  </StackPanel>
                </Grid>
                <TextBox Grid.Column="1" x:Name="playerDPSTextBox" TextWrapping="Wrap" IsReadOnly="True" Background="#FF383838" Foreground="White" BorderThickness="0" FontSize="14" MouseEnter="PlayerDPSText_MouseEnter" SelectionBrush="#FF206CF1" TextChanged="PlayerDPSTextBox_TextChanged"/>
              </Grid>
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
        </docking:SplitContainer>
        <docking:SplitContainer Orientation="Vertical">
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="petMappingWindow" IsOpen="False" Title="Pet Owners" ContainerDockedSize="240,150">
              <datagrid:ThemedDataGrid x:Name="petMappingGrid" RowHeaderWidth="0" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True">
                <DataGrid.Columns>
                  <DataGridTextColumn Binding="{Binding Owner}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Owner" IsReadOnly="True" CanUserReorder="False" MinWidth="30" Width="30*"/>
                  <DataGridTextColumn Binding="{Binding Pet}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Pet" IsReadOnly="True" CanUserReorder="False" MinWidth="30" Width="30*" />
                </DataGrid.Columns>
              </datagrid:ThemedDataGrid>
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="verifiedPlayersWindow" IsOpen="False" Title="Verified Players" ContainerDockedSize="240,150">
              <datagrid:ThemedDataGrid x:Name="verifiedPlayersGrid" RowHeaderWidth="30" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True" LoadingRow="DataGrid_LoadingRow">
                <DataGrid.Columns>
                  <DataGridTextColumn Binding="{Binding Name}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Name" CanUserReorder="False" MinWidth="30" Width="30*" />
                </DataGrid.Columns>
              </datagrid:ThemedDataGrid>
            </docking:ToolWindow>
            <docking:ToolWindow x:Name="verifiedPetsWindow" IsOpen="False" Title="Verified Pets" ContainerDockedSize="240,150">
              <datagrid:ThemedDataGrid x:Name="verifiedPetsGrid" RowHeaderWidth="30" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True" LoadingRow="DataGrid_LoadingRow">
                <DataGrid.Columns>
                  <DataGridTextColumn Binding="{Binding Name}" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Name" CanUserReorder="False" MinWidth="30" Width="30*" />
                </DataGrid.Columns>
              </datagrid:ThemedDataGrid>
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
        </docking:SplitContainer>
      </docking:SplitContainer>
    </docking:DockSite>
  </Grid>
</Window>
