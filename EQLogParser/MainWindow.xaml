<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:docking="http://schemas.actiprosoftware.com/winfx/xaml/docking"
        xmlns:datagrid="http://schemas.actiprosoftware.com/winfx/xaml/datagrid"
        xmlns:fa="http://schemas.fontawesome.io/icons/"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        xmlns:local="clr-namespace:EQLogParser"
        x:Class="EQLogParser.MainWindow"
        Style="{StaticResource StandardStyle}"
        Icon="EQLogParser.ico"
        Title="" Closed="Window_Closed" TextOptions.TextFormattingMode="Display" StateChanged="Window_StateChanged">
  <Window.Resources>
  </Window.Resources>
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="259*"/>
      <ColumnDefinition Width="1125*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="20" />
      <RowDefinition Height="500*" />
    </Grid.RowDefinitions>
    <tb:TaskbarIcon x:Name="taskBarIcon" ToolTipText="EQ Log Parser" TrayLeftMouseUp="TrayIcon_MouseUp" TrayRightMouseUp="TrayIcon_MouseUp" IconSource="EQLogParser.ico">
      <tb:TaskbarIcon.TrayToolTip>
        <Border Background="White" BorderBrush="Gray" BorderThickness="2" CornerRadius="4" Opacity="0.8">
          <TextBlock Text="EQ Log Parser" HorizontalAlignment="Center" Height="18" Margin="4,0,4,0" VerticalAlignment="Center" />
        </Border>
      </tb:TaskbarIcon.TrayToolTip>
    </tb:TaskbarIcon>
    <Menu Grid.Row="0" Margin="0" Height="20" VerticalAlignment="Top" Grid.ColumnSpan="2">
      <MenuItem Header="_File" Height="20" Width="40">
        <MenuItem Header="_Archive Chat" Height="20" Click="MenuItemSelectArchiveChat_Click" ToolTip="Only Archive Chat from a Log File">
          <MenuItem.Icon>
            <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Database" Foreground="#5191c1" />
          </MenuItem.Icon>
        </MenuItem>
        <MenuItem Header="Monitor Log File" Height="20" Click="MenuItemSelectMonitorLogFile_Click" ToolTip="Monitor Log File for changes">
          <MenuItem.Icon>
            <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Eye" Foreground="#5191c1" />
          </MenuItem.Icon>
        </MenuItem>
        <MenuItem Header="Open and Monitor _Log File" Height="20" ToolTip="Open Log File, Archive Chat and Start Monitoring">
          <MenuItem.Icon>
            <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="FolderOpen" Foreground="#5191c1" />
          </MenuItem.Icon>
          <MenuItem Header="Last Hour" Tag="1" Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Calendar" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>          
          <MenuItem Header="Last  8 Hours" Tag="8" Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Calendar" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem Header="Last 24 Hours" Tag="24 " Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Calendar" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem Header="Last  7 Days" Tag="168" Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Calendar" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem Header="Last 14 Days" Tag="336" Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Calendar" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem Header="Last 30 Days" Tag="720" Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Calendar" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem Header="Everything" Height="20" Click="MenuItemSelectLogFile_Click">
            <MenuItem.Icon>
              <fa:ImageAwesome Loaded="WindowIcon_Loaded" Height="12" Width="12" HorizontalAlignment="Center" Icon="Globe" Foreground="#5191c1" />
            </MenuItem.Icon>
          </MenuItem>
        </MenuItem>
        <Separator Height="0"/>
        <MenuItem Header="E_xit" Height="20" Click="Window_Closed" InputGestureText="Alt+F4"/>
      </MenuItem>
      <MenuItem Header="_View" Height="20" Width="40">
        <MenuItem x:Name="chatMenuItem" Click="MenuItemWindow_Click" Header="Chat Search" Height="20">
          <MenuItem.Icon>
            <fa:ImageAwesome x:Name="chatIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
          </MenuItem.Icon>
        </MenuItem>
        <MenuItem x:Name="damageMenuItems" Header="_Damage" Height="20">
          <MenuItem x:Name="damageChartMenuItem" Click="MenuItemWindow_Click" Header="Chart" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="damageChartIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem x:Name="damageSummaryMenuItem" Click="MenuItemWindow_Click" Header="Summary Table" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="damageSummaryIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
        </MenuItem>
        <MenuItem x:Name="healingMenuItems" Header="_Healing" Height="20">
          <MenuItem x:Name="healingChartMenuItem" Click="MenuItemWindow_Click" Header="Chart" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="healingChartIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem x:Name="healingSummaryMenuItem" Click="MenuItemWindow_Click" Header="Summary Table" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="healingSummaryIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
        </MenuItem>
        <MenuItem x:Name="tankingMenuItems" Header="_Tanking" Height="20">
          <MenuItem x:Name="tankingChartMenuItem" Click="MenuItemWindow_Click" Header="Chart" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="tankingChartIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem x:Name="tankingSummaryMenuItem" Click="MenuItemWindow_Click" Header="Summary Table" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="tankingSummaryIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
        </MenuItem>        
        <Separator />
        <MenuItem x:Name="npcWindowMenuitem" Header="_NPCs" Click="MenuItemWindow_Click" Height="20">
          <MenuItem.Icon>
            <fa:ImageAwesome x:Name="npcIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
          </MenuItem.Icon>
        </MenuItem>
        <MenuItem x:Name="playerspetsMenuItems" Header="Pets And Players" Height="20">
          <MenuItem x:Name="verifiedPlayersWindowMenuItem" Click="MenuItemWindow_Click" Header="_Players" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="verifiedPlayersIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem x:Name="playerParseTextWindowMenuItem" Header="_Share Parses" Click="MenuItemWindow_Click" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="playerParseIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
          <Separator />
          <MenuItem x:Name="verifiedPetsWindowMenuItem" Click="MenuItemWindow_Click" Header="P_ets" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="verifiedPetsIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
          <MenuItem x:Name="petMappingWindowMenuItem" Header="Pet _Owners" Click="MenuItemWindow_Click" Height="20">
            <MenuItem.Icon>
              <fa:ImageAwesome x:Name="petMappingIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
            </MenuItem.Icon>
          </MenuItem>
        </MenuItem>
        <Separator />
        <MenuItem x:Name="fileProgressWindowMenuItem" Click="MenuItemWindow_Click" Header="_Status" Height="20">
          <MenuItem.Icon>
            <fa:ImageAwesome x:Name="fileProgessIcon" Loaded="WindowIcon_Loaded" Visibility="Hidden" Height="10" Width="10" HorizontalAlignment="Center" Icon="Check" Foreground="#FF4F9FE2" />
          </MenuItem.Icon>
        </MenuItem>
      </MenuItem>
      <MenuItem Header="_Tools" Height="20" Width="45">
        <MenuItem x:Name="viewErrorLog" Header="View _Error Log" Click="ViewErrorLog_Click" Height="20">
          <MenuItem.Icon>
            <fa:ImageAwesome x:Name="viewErrorLogIcon" Visibility="Visible" Height="10" Width="10" HorizontalAlignment="Center" Icon="File"  Foreground="#FF4F9FE2" />
          </MenuItem.Icon>
        </MenuItem>
      </MenuItem>
    </Menu>
    <fa:ImageAwesome Grid.Row="0" x:Name="busyIcon" Icon="Refresh" Spin="True" Height="14" Width="14" Visibility="Hidden" Foreground="#FF4F9FE2" HorizontalAlignment="Right" Margin="0,5,15,1" Grid.Column="1"/>
    <docking:DockSite Grid.Row="2" x:Name="dockSite" Grid.ColumnSpan="2" PreviewKeyDown="NPCWindow_KeyDown" WindowUnregistered="DockSite_WindowUnreg">
      <docking:SplitContainer Orientation="Horizontal">
        <docking:SplitContainer Orientation="Vertical">
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="npcWindow" Title="NPCs" ContainerAutoHideSize="320, 400" ContainerDockedSize="320,400">
              <local:NpcTable />
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
          <docking:ToolWindowContainer>
            <docking:ToolWindow x:Name="progressWindow" CanFloat="False" CanAutoHide="False" IsOpen="False" Title="Status" ContainerDockedSize="320,35">
              <WrapPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal">
                  <Label Width="85" x:Name="bytesReadTitle" HorizontalContentAlignment="Left" Margin="4,0,0,0">Reading:</Label>
                  <Label x:Name="bytesReadLabel" Width="65" HorizontalContentAlignment="Left" Margin="0,0,0,0">0%</Label>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                  <Label Width="85" HorizontalContentAlignment="Left" Margin="4,0,0,0">Load Time:</Label>
                  <Label x:Name="processedTimeLabel" Width="65" HorizontalContentAlignment="Left" Margin="0,0,0,0">0 sec</Label>
                </StackPanel>
              </WrapPanel>
            </docking:ToolWindow>
          </docking:ToolWindowContainer>
        </docking:SplitContainer>
        <docking:SplitContainer Orientation="Vertical">
          <docking:Workspace>
            <docking:TabbedMdiHost>
            </docking:TabbedMdiHost>
          </docking:Workspace>
        </docking:SplitContainer>
      </docking:SplitContainer>
      <docking:DockSite.AutoHideRightContainers>
        <docking:ToolWindowContainer>
          <docking:ToolWindow x:Name="verifiedPlayersWindow" IsOpen="False" Title="Players" ContainerDockedSize="240,150">
            <datagrid:ThemedDataGrid x:Name="verifiedPlayersGrid" RowHeaderWidth="0" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True" CanUserResizeRows="False">
              <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Name}" CanUserSort="True" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Name" MinWidth="30" Width="30*" />
              </DataGrid.Columns>
            </datagrid:ThemedDataGrid>
          </docking:ToolWindow>
          <docking:ToolWindow x:Name="verifiedPetsWindow" IsOpen="False" Title="Pets" ContainerDockedSize="240,150">
            <datagrid:ThemedDataGrid x:Name="verifiedPetsGrid" RowHeaderWidth="0" Margin="0,-1,0,1" AutoGenerateColumns="False" IsReadOnly="True" CanUserResizeRows="False">
              <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Name}" CanUserSort="True" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Name" MinWidth="30" Width="30*" />
              </DataGrid.Columns>
            </datagrid:ThemedDataGrid>
          </docking:ToolWindow>
        </docking:ToolWindowContainer>
        <docking:ToolWindowContainer>
          <docking:ToolWindow x:Name="petMappingWindow" IsOpen="True" Title="Pet Owners" ContainerAutoHideSize="300,150" ContainerDockedSize="300,150">
            <datagrid:ThemedDataGrid x:Name="petMappingGrid" RowHeaderWidth="0" Margin="0,-1,0,1" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False" IsReadOnly="False" CanUserResizeRows="False">
              <DataGrid.Columns>
                <DataGridTemplateColumn Header="Owner" CanUserSort="True" SortMemberPath="Owner" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" IsReadOnly="False" MinWidth="30" Width="30*">
                  <DataGridTemplateColumn.CellEditingTemplate>
                    <DataTemplate>
                      <ComboBox ItemsSource="{Binding VerifiedPlayersProperty, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Window}}" SelectedValue="{Binding Owner}" SelectionChanged="PetMapping_SelectionChanged" SelectedValuePath="Name" DisplayMemberPath="Name"/>
                    </DataTemplate>
                  </DataGridTemplateColumn.CellEditingTemplate>
                  <DataGridTemplateColumn.CellTemplate>
                    <DataTemplate>
                      <TextBlock Text="{Binding Owner}"/>
                    </DataTemplate>
                  </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn Binding="{Binding Pet}" CanUserSort="True" HeaderStyle="{StaticResource CenterGridHeaderStyle}" ClipboardContentBinding="{x:Null}" Header="Pet" IsReadOnly="True" MinWidth="30" Width="30*" />
              </DataGrid.Columns>
            </datagrid:ThemedDataGrid>
          </docking:ToolWindow>
        </docking:ToolWindowContainer>
      </docking:DockSite.AutoHideRightContainers>
      <docking:DockSite.AutoHideBottomContainers>
        <docking:ToolWindowContainer>
          <docking:ToolWindow x:Name="playerParseTextWindow" IsOpen="True" Title="Share Parses" ContainerAutoHideSize="400, 140" ContainerDockedSize="400, 140">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100" />
                <ColumnDefinition Width="400*" />
              </Grid.ColumnDefinitions>
              <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                  <RowDefinition Height="47*" />
                  <RowDefinition Height="50" />
                </Grid.RowDefinitions>
                <TextBlock x:Name="sharePlayerParseLabel" Grid.Row="0" TextWrapping="Wrap" FontSize="14" Margin="10,2,0,0" Foreground="#c2c2c0" >No Players Selected</TextBlock>
                <StackPanel Grid.Row="1" Orientation="Vertical">
                  <TextBlock x:Name="sharePlayerParseWarningLabel" TextWrapping="Wrap" FontSize="10" Margin="12,0,0,4" Foreground="LightGreen" FontStyle="Italic" Height="12" Visibility="Hidden">0 / 509</TextBlock>
                  <Button x:Name="copyToEQButton" Width="80" Height="24" Margin="10,4,10,0" Content="Copy to EQ" IsEnabled="False" Foreground="#FF5A5A5A" BorderBrush="{x:Null}" Click="CopyToEQ_Click"/>
                </StackPanel>
              </Grid>
              <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                  <RowDefinition Height="30" />
                  <RowDefinition Height="50*" />
                </Grid.RowDefinitions>
                <StackPanel HorizontalAlignment="Right" Grid.Row="0" Orientation="Horizontal">
                  <ComboBox Margin="0,0,15,0" x:Name="parseList" IsEnabled="True" Height="24" SelectionChanged="ParseList_SelectionChanged" />
                  <CheckBox x:Name="playerParseTextDoTotals" IsChecked="True" Margin="0,2,15,0" VerticalAlignment="Center" VerticalContentAlignment="Center" Checked="PlayerParseTextCheckChange" Unchecked="PlayerParseTextCheckChange">Include Total</CheckBox>
                  <CheckBox x:Name="playerParseTextDoRank" IsChecked="True" Margin="0,2,15,0" VerticalAlignment="Center" VerticalContentAlignment="Center" Checked="PlayerParseTextCheckChange" Unchecked="PlayerParseTextCheckChange">Rank Players</CheckBox>
                </StackPanel>
                <TextBox Grid.Column="1" Grid.Row="1" x:Name="playerParseTextBox" TextWrapping="Wrap" IsReadOnly="True" Background="#FF383838" Foreground="#c2c2c0" BorderThickness="0" FontSize="14" MouseEnter="PlayerParseText_MouseEnter" SelectionBrush="#FF206CF1" TextChanged="PlayerParseTextBox_TextChanged"/>
              </Grid>
            </Grid>
          </docking:ToolWindow>
        </docking:ToolWindowContainer>
      </docking:DockSite.AutoHideBottomContainers>
    </docking:DockSite>
  </Grid>
</Window>
